<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Love Universe V14</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Three.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    
    <!-- GSAP + ScrollTrigger -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>

    <!-- Confetti -->
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>

    <!-- Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>

    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;500;700&family=Outfit:wght@400;700;900&display=swap" rel="stylesheet">

    <style>
        body {
            margin: 0;
            background-color: #0f050a; /* Dark Warm Black */
            color: #ffffff;
            font-family: 'Outfit', sans-serif;
            overflow-x: hidden;
            -webkit-tap-highlight-color: transparent;
            user-select: none;
            opacity: 0; /* Init hide, revealed by JS */
        }

        .font-tech { font-family: 'Space Grotesk', sans-serif; }

        /* --- 3D CANVAS --- */
        #canvas-bg {
            position: fixed; top: 0; left: 0; width: 100%; height: 100vh; z-index: -1;
        }

        /* --- TEXT GRADIENT --- */
        .text-gradient {
            background: linear-gradient(to right, #ff758c, #ff7eb3, #ffffff, #a855f7, #ff758c);
            background-size: 200% auto;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            animation: shine 4s linear infinite;
        }
        @keyframes shine { to { background-position: 200% center; } }

        /* --- HERO RESPONSIVE --- */
        .hero-title {
            font-size: clamp(3.5rem, 12vw, 9rem);
            line-height: 0.9;
        }

        /* --- 3D TILT CARD (UNIFIED) --- */
        .card-container { perspective: 1000px; }
        .holo-card {
            background: rgba(20, 10, 25, 0.6);
            border: 1px solid rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(16px);
            border-radius: 24px;
            transform-style: preserve-3d;
            transition: transform 0.1s ease-out;
            position: relative;
            box-shadow: 0 20px 50px rgba(0,0,0,0.5);
            will-change: transform;
        }
        .holo-content { transform: translateZ(40px); }

        /* --- 3D CAROUSEL --- */
        .carousel-scene {
            perspective: 1000px;
            width: 100%;
            height: 400px;
            display: flex;
            justify-content: center;
            align-items: center;
            overflow: visible;
        }
        .carousel {
            width: 220px; 
            height: 320px;
            position: relative;
            transform-style: preserve-3d;
            transition: transform 0.5s cubic-bezier(0.1, 0, 0.2, 1);
        }
        .carousel-item {
            position: absolute;
            width: 100%; height: 100%;
            left: 0; top: 0;
            border-radius: 16px;
            overflow: hidden;
            border: 2px solid rgba(255,255,255,0.2);
            background: rgba(0,0,0,0.8);
        }
        .carousel-item img {
            width: 100%; height: 100%; object-fit: cover;
            pointer-events: none;
        }

        /* --- FINGERPRINT SCANNER --- */
        .fingerprint-btn {
            width: 100px; height: 100px;
            border-radius: 50%;
            background: rgba(255,255,255,0.05);
            border: 1px solid rgba(255,255,255,0.1);
            color: rgba(255,255,255,0.3);
            display: flex; align-items: center; justify-content: center;
            transition: all 0.3s;
            position: relative; z-index: 10;
        }
        .fingerprint-btn.active {
            color: #ec4899;
            background: rgba(236, 72, 153, 0.1);
            box-shadow: 0 0 30px rgba(236, 72, 153, 0.3);
        }
        .progress-ring {
            position: absolute; top: 0; left: 0;
            transform: rotate(-90deg);
            z-index: 5;
            pointer-events: none;
        }
        .progress-ring__circle {
            transition: stroke-dashoffset 0.1s linear;
            transform-origin: 50% 50%;
            stroke: #ec4899;
            filter: drop-shadow(0 0 5px #ec4899);
        }

        /* --- POPUP --- */
        #love-popup { background: rgba(5, 2, 7, 0.95); backdrop-filter: blur(20px); }

        /* --- LOADING OVERLAY --- */
        #loader {
            position: fixed; inset: 0; background: #0f050a; z-index: 9999;
            display: flex; justify-content: center; align-items: center;
        }
    </style>
</head>
<body>

    <!-- LOADER -->
    <div id="loader">
        <div class="flex flex-col items-center">
            <i data-lucide="infinity" class="w-12 h-12 text-pink-500 animate-spin-slow mb-4"></i>
            <span class="text-xs font-tech uppercase tracking-widest text-gray-500 animate-pulse">Loading Universe...</span>
        </div>
    </div>

    <!-- 3D BACKGROUND (HEARTS) -->
    <div id="canvas-bg"></div>

    <!-- MAIN UI -->
    <main class="relative z-10 w-full pb-32">
        
        <!-- HERO -->
        <section class="min-h-screen flex flex-col justify-center items-center text-center px-4 overflow-hidden relative" id="hero-section">
            <div class="hero-anim border border-pink-500/30 bg-pink-500/5 px-4 py-1 rounded-full mb-6 opacity-0">
                <span class="text-[10px] md:text-xs font-tech uppercase tracking-[0.3em] text-pink-300">System Connected</span>
            </div>

            <h1 class="hero-title hero-title-anim font-black text-gradient mb-4 drop-shadow-2xl opacity-0">
                DIGITAL<br>LOVE
            </h1>
            
            <p class="hero-anim text-gray-400 font-tech text-xs md:text-sm tracking-widest max-w-md mx-auto opacity-0">
                Scroll to access memory fragments
            </p>

            <div class="hero-anim absolute bottom-10 animate-bounce text-pink-500/50 opacity-0">
                <i data-lucide="chevrons-down"></i>
            </div>
        </section>

        <!-- TENTANG KITA -->
        <section id="about" class="py-24 px-4 relative scroll-section">
            <div class="max-w-4xl mx-auto card-container">
                <!-- Satu Kartu Besar (3D Tilt) -->
                <div class="holo-card w-full p-8 md:p-12 flex flex-col md:flex-row gap-8 items-center" onmousemove="tiltEffect(event, this)" onmouseleave="resetTilt(this)">
                    
                    <!-- Kiri: Info -->
                    <div class="flex-1 text-center md:text-left holo-content">
                        <div class="flex items-center justify-center md:justify-start gap-3 mb-4">
                            <i data-lucide="infinity" class="text-pink-500 w-8 h-8"></i>
                            <h2 class="text-3xl font-bold font-tech">OUR PROFILE</h2>
                        </div>
                        <p class="text-gray-300 leading-relaxed mb-6">
                            Dua manusia random yang dipertemukan algoritma semesta. Satu hobi marah-marah lucu, satu lagi hobi sabar (dan gaming). Bersama-sama membangun server cinta yang (semoga) no downtime.
                        </p>
                        
                        <!-- Stats Mini -->
                        <div class="grid grid-cols-2 gap-4">
                            <div class="bg-white/5 p-3 rounded-xl border border-white/10">
                                <p class="text-[10px] text-gray-500 uppercase">Status</p>
                                <p class="font-bold text-pink-400">In Love</p>
                            </div>
                            <div class="bg-white/5 p-3 rounded-xl border border-white/10">
                                <p class="text-[10px] text-gray-500 uppercase">Level</p>
                                <p class="font-bold text-blue-400">Maxed Out</p>
                            </div>
                        </div>
                    </div>

                    <!-- Kanan: Visual/Foto (Abstract Representation) -->
                    <div class="flex-1 w-full flex justify-center holo-content">
                        <div class="relative w-64 h-64">
                            <!-- Foto Cowok -->
                            <div class="absolute top-0 left-0 w-40 h-40 rounded-2xl overflow-hidden border-2 border-blue-500/50 transform -rotate-6 shadow-2xl z-10">
                                <img src="https://images.unsplash.com/photo-1506794778202-cad84cf45f1d?q=80&w=400&auto=format&fit=crop" class="w-full h-full object-cover">
                            </div>
                            <!-- Foto Cewek -->
                            <div class="absolute bottom-0 right-0 w-40 h-40 rounded-2xl overflow-hidden border-2 border-pink-500/50 transform rotate-6 shadow-2xl z-20 bg-black">
                                <img src="https://images.unsplash.com/photo-1494790108377-be9c29b29330?q=80&w=400&auto=format&fit=crop" class="w-full h-full object-cover">
                            </div>
                        </div>
                    </div>

                </div>
            </div>
        </section>

        <!-- GALLERY (3D ROTATING CAROUSEL) -->
        <section id="gallery" class="py-32 relative overflow-hidden scroll-section">
            <div class="text-center mb-10">
                <h2 class="text-2xl font-bold mb-2">MEMORY ROTATION</h2>
                <p class="text-xs text-gray-500 uppercase tracking-widest">Drag to Rotate 360Â°</p>
            </div>

            <div class="carousel-scene" id="carousel-scene">
                <div class="carousel" id="carousel">
                    <!-- JS will inject items here -->
                </div>
            </div>
        </section>

        <!-- FINGERPRINT SCANNER -->
        <section id="scanner" class="py-24 text-center scroll-section">
            <div class="max-w-md mx-auto bg-white/5 border border-white/10 rounded-3xl p-8 backdrop-blur-sm card-container">
                <h2 class="text-2xl font-bold mb-2">SYNC HEARTBEAT</h2>
                <p class="text-gray-400 text-xs mb-10 font-tech">Hold fingerprint to verify love</p>

                <div class="scanner-container relative w-[140px] h-[140px] mx-auto flex justify-center items-center">
                    <!-- Progress Ring -->
                    <svg class="progress-ring" width="140" height="140">
                        <circle class="progress-ring__circle" stroke-width="4" stroke-dasharray="408" stroke-dashoffset="408" fill="transparent" r="65" cx="70" cy="70" />
                    </svg>
                    
                    <!-- Button -->
                    <button id="finger-btn" class="fingerprint-btn">
                        <i data-lucide="fingerprint" class="w-12 h-12"></i>
                    </button>
                </div>

                <div id="scan-status" class="mt-8 font-mono text-pink-500 h-6 text-sm tracking-widest">
                    WAITING...
                </div>
            </div>
        </section>

    </main>

    <!-- NAVBAR (DOCK) -->
    <nav class="fixed bottom-6 left-1/2 -translate-x-1/2 bg-black/60 backdrop-blur-xl border border-white/10 px-6 py-4 rounded-2xl flex gap-8 z-50 shadow-2xl opacity-0" id="navbar">
        <a href="#" class="text-gray-500 hover:text-white transition-colors transform hover:-translate-y-1"><i data-lucide="home" class="w-5 h-5"></i></a>
        <a href="#about" class="text-gray-500 hover:text-white transition-colors transform hover:-translate-y-1"><i data-lucide="user" class="w-5 h-5"></i></a>
        <a href="#gallery" class="text-gray-500 hover:text-white transition-colors transform hover:-translate-y-1"><i data-lucide="aperture" class="w-5 h-5"></i></a>
        <a href="#scanner" class="text-gray-500 hover:text-white transition-colors transform hover:-translate-y-1"><i data-lucide="fingerprint" class="w-5 h-5"></i></a>
    </nav>

    <!-- POPUP -->
    <div id="love-popup" class="fixed inset-0 z-[100] hidden flex flex-col items-center justify-center opacity-0 transition-opacity duration-500">
        <div class="relative z-10 text-center transform scale-90 transition-transform duration-500" id="popup-content">
            <i data-lucide="check-circle" class="w-16 h-16 text-green-400 mx-auto mb-6 animate-bounce"></i>
            <h1 class="text-6xl md:text-8xl font-black text-transparent bg-clip-text bg-gradient-to-br from-pink-500 to-white tracking-tighter">
                ACCESS<br>GRANTED
            </h1>
            <p class="text-white mt-4 font-tech text-xl">I LOVE YOU 3000</p>
            
            <button onclick="closePopup()" class="mt-12 px-8 py-3 border border-white/20 hover:bg-white hover:text-black rounded-full text-xs font-bold uppercase transition-all">
                CLOSE SYSTEM
            </button>
        </div>
    </div>

    <!-- SCRIPT -->
    <script>
        lucide.createIcons();
        gsap.registerPlugin(ScrollTrigger);

        // --- 1. SEQUENTIAL ENTRANCE ANIMATION (FIXED TEXT VISIBILITY) ---
        window.onload = () => {
            const tl = gsap.timeline();

            // 1. Reveal Body
            gsap.set("body", { opacity: 1 });

            // 2. Hide Loader
            tl.to("#loader", { 
                opacity: 0, 
                duration: 0.8, 
                onComplete: () => document.getElementById("loader").style.display = "none" 
            })
            // 3. Hero Title Zoom Out Effect (FORCE OPACITY 1)
            .fromTo(".hero-title-anim", 
                { scale: 3, opacity: 0, filter: "blur(15px)" },
                { scale: 1, opacity: 1, filter: "blur(0px)", duration: 2, ease: "power3.out" },
                "-=0.2"
            )
            // 4. Stagger other hero elements (FORCE OPACITY 1)
            .fromTo(".hero-anim", 
                { y: 50, opacity: 0 },
                { y: 0, opacity: 1, duration: 1.5, stagger: 0.2, ease: "power2.out" },
                "-=1.5"
            )
            // 5. Show Navbar
            .to("#navbar", { opacity: 1, duration: 1 }, "-=0.5")
            // 6. Camera Enter 3D
            .to(camera.position, { z: 40, duration: 2.5, ease: "power2.out" }, 0);
        };

        // --- 2. GLOBAL SCROLL ANIMATION (FOR EVERYTHING) ---
        gsap.utils.toArray('.scroll-section').forEach(section => {
            gsap.from(section.children, {
                scrollTrigger: {
                    trigger: section,
                    start: "top 85%", // Start when top of section is at 85% viewport
                    toggleActions: "play none none reverse"
                },
                y: 60,
                opacity: 0,
                duration: 1.2,
                stagger: 0.1,
                ease: "power3.out"
            });
        });

        // --- 3. THREE.JS (HEART BACKGROUND V8) ---
        const scene = new THREE.Scene();
        scene.fog = new THREE.FogExp2(0x0f050a, 0.02);

        const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
        camera.position.z = 100; // Start far for entrance animation

        const renderer = new THREE.WebGLRenderer({ alpha: true, antialias: true });
        renderer.setSize(window.innerWidth, window.innerHeight);
        renderer.setPixelRatio(window.devicePixelRatio);
        document.getElementById('canvas-bg').appendChild(renderer.domElement);

        // Heart Shape Logic
        const heartShape = new THREE.Shape();
        const hx = 0, hy = 0;
        heartShape.moveTo(hx + 5, hy + 5);
        heartShape.bezierCurveTo(hx + 5, hy + 5, hx + 4, hy, hx, hy);
        heartShape.bezierCurveTo(hx - 6, hy, hx - 6, hy + 7, hx - 6, hy + 7);
        heartShape.bezierCurveTo(hx - 6, hy + 11, hx - 3, hy + 15.4, hx + 5, hy + 19);
        heartShape.bezierCurveTo(hx + 12, hy + 15.4, hx + 16, hy + 11, hx + 16, hy + 7);
        heartShape.bezierCurveTo(hx + 16, hy + 7, hx + 16, hy, hx + 10, hy);
        heartShape.bezierCurveTo(hx + 7, hy, hx + 5, hy + 5, hx + 5, hy + 5);

        const geometry = new THREE.ShapeGeometry(heartShape);
        const heartsGroup = new THREE.Group();

        for (let i = 0; i < 45; i++) {
            const meshMat = new THREE.MeshBasicMaterial({ 
                color: new THREE.Color().setHSL(Math.random() * 0.1 + 0.9, 0.8, 0.6),
                side: THREE.DoubleSide,
                transparent: true,
                opacity: 0.4
            });
            const mesh = new THREE.Mesh(geometry, meshMat);
            mesh.position.set(
                (Math.random() - 0.5) * 80,
                (Math.random() - 0.5) * 60,
                (Math.random() - 0.5) * 100
            );
            mesh.rotation.x = Math.PI;
            mesh.rotation.z = Math.random() * Math.PI;
            const s = Math.random() * 0.05 + 0.02;
            mesh.scale.set(s, s, s);
            heartsGroup.add(mesh);
        }
        scene.add(heartsGroup);

        // Dust
        const dustGeo = new THREE.BufferGeometry();
        const dustPos = new Float32Array(800 * 3);
        for(let i=0; i<800*3; i++) dustPos[i] = (Math.random() - 0.5) * 100;
        dustGeo.setAttribute('position', new THREE.BufferAttribute(dustPos, 3));
        const dustMat = new THREE.PointsMaterial({ color: 0xffffff, size: 0.1, transparent: true, opacity: 0.5 });
        const dust = new THREE.Points(dustGeo, dustMat);
        scene.add(dust);

        // Anim Loop
        const clock = new THREE.Clock();
        function animate() {
            requestAnimationFrame(animate);
            const time = clock.getElapsedTime();
            heartsGroup.rotation.y = Math.sin(time * 0.1) * 0.2;
            heartsGroup.children.forEach((h, i) => {
                h.position.y += Math.sin(time + i) * 0.02;
                h.rotation.z += 0.005;
            });
            dust.rotation.z += 0.001;
            renderer.render(scene, camera);
        }
        animate();

        // Parallax Effect on Scroll
        window.addEventListener('scroll', () => {
            const scrollY = window.scrollY;
            // 3D background moves slower than content
            heartsGroup.rotation.x = scrollY * 0.0005;
            camera.position.y = -scrollY * 0.02; 
        });

        // --- 4. 3D CAROUSEL LOGIC ---
        const carousel = document.getElementById('carousel');
        const images = [
            'https://images.unsplash.com/photo-1517841905240-472988babdf9?q=80&w=400&auto=format&fit=crop',
            'https://images.unsplash.com/photo-1516589178581-6cd7833ae3b2?q=80&w=400&auto=format&fit=crop',
            'https://images.unsplash.com/photo-1518199266791-5375a83190b7?q=80&w=400&auto=format&fit=crop',
            'https://images.unsplash.com/photo-1529333166437-7750a6dd5a70?q=80&w=400&auto=format&fit=crop',
            'https://images.unsplash.com/photo-1621621667797-e06afc217fb0?q=80&w=400&auto=format&fit=crop',
        ];
        const radius = 250;
        const angleStep = 360 / images.length;

        images.forEach((src, i) => {
            const el = document.createElement('div');
            el.className = 'carousel-item';
            el.innerHTML = `<img src="${src}">`;
            el.style.transform = `rotateY(${i * angleStep}deg) translateZ(${radius}px)`;
            carousel.appendChild(el);
        });

        let currAngle = 0, startX = 0, isDown = false;
        const cScene = document.getElementById('carousel-scene');

        const start = (x) => { isDown = true; startX = x; };
        const move = (x) => {
            if(!isDown) return;
            const delta = (x - startX) * 0.5;
            carousel.style.transform = `rotateY(${currAngle + delta}deg)`;
        };
        const end = (x) => {
            if(isDown) {
                isDown = false;
                currAngle += (x - startX) * 0.5;
                carousel.style.transform = `rotateY(${currAngle}deg)`;
            }
        };

        cScene.addEventListener('mousedown', e => start(e.clientX));
        cScene.addEventListener('touchstart', e => start(e.touches[0].clientX));
        window.addEventListener('mousemove', e => move(e.clientX));
        window.addEventListener('touchmove', e => move(e.touches[0].clientX));
        window.addEventListener('mouseup', e => end(e.clientX));
        window.addEventListener('touchend', e => end(e.changedTouches[0].clientX));

        // --- 5. FINGERPRINT SCANNER ---
        const fingerBtn = document.getElementById('finger-btn');
        const circle = document.querySelector('.progress-ring__circle');
        const statusEl = document.getElementById('scan-status');
        const popup = document.getElementById('love-popup');
        const popupContent = document.getElementById('popup-content');

        const cRadius = circle.r.baseVal.value;
        const circumference = cRadius * 2 * Math.PI;
        circle.style.strokeDasharray = `${circumference} ${circumference}`;
        circle.style.strokeDashoffset = circumference;

        let scanProgress = 0, isScanning = false, scanFrame;

        function updateProgress() {
            if(!isScanning) return;
            if(scanProgress < 100) {
                scanProgress += 1.5;
                const offset = circumference - (scanProgress / 100) * circumference;
                circle.style.strokeDashoffset = offset;
                statusEl.innerText = `SCANNING... ${Math.floor(scanProgress)}%`;
                scanFrame = requestAnimationFrame(updateProgress);
            } else {
                completeScan();
            }
        }

        function startScan(e) {
            e.preventDefault();
            if(scanProgress >= 100) return;
            isScanning = true;
            fingerBtn.classList.add('active');
            scanFrame = requestAnimationFrame(updateProgress);
        }

        function stopScan() {
            isScanning = false;
            cancelAnimationFrame(scanFrame);
            fingerBtn.classList.remove('active');
            if(scanProgress < 100) {
                const drain = setInterval(() => {
                    if(scanProgress > 0 && !isScanning) {
                        scanProgress -= 5;
                        circle.style.strokeDashoffset = circumference - (scanProgress / 100) * circumference;
                        statusEl.innerText = "CONNECTION LOST...";
                    } else {
                        clearInterval(drain);
                        if(!isScanning) statusEl.innerText = "WAITING...";
                    }
                }, 16);
            }
        }

        function completeScan() {
            isScanning = false;
            cancelAnimationFrame(scanFrame);
            statusEl.innerText = "VERIFIED!";
            confetti({ particleCount: 150, spread: 70, origin: { y: 0.8 } });
            setTimeout(() => {
                popup.classList.remove('hidden');
                setTimeout(() => {
                    popup.classList.remove('opacity-0');
                    popupContent.classList.remove('scale-90');
                    popupContent.classList.add('scale-100');
                }, 50);
            }, 300);
        }

        fingerBtn.addEventListener('mousedown', startScan);
        fingerBtn.addEventListener('touchstart', startScan);
        window.addEventListener('mouseup', stopScan);
        window.addEventListener('touchend', stopScan);

        // --- 6. TILT EFFECT ---
        window.tiltEffect = function(e, el) {
            const rect = el.getBoundingClientRect();
            const x = e.clientX - rect.left;
            const y = e.clientY - rect.top;
            const cx = rect.width / 2;
            const cy = rect.height / 2;
            const rx = ((y - cy) / cy) * -8;
            const ry = ((x - cx) / cx) * 8;
            el.style.transform = `perspective(1000px) rotateX(${rx}deg) rotateY(${ry}deg) scale(1.02)`;
        };
        window.resetTilt = function(el) {
            el.style.transform = `perspective(1000px) rotateX(0deg) rotateY(0deg) scale(1)`;
        };

        window.closePopup = function() {
            popup.classList.add('opacity-0');
            setTimeout(() => {
                popup.classList.add('hidden');
                scanProgress = 0;
                circle.style.strokeDashoffset = circumference;
                statusEl.innerText = "WAITING...";
                popupContent.classList.remove('scale-100');
                popupContent.classList.add('scale-90');
            }, 500);
        }

        window.addEventListener('resize', () => {
            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(window.innerWidth, window.innerHeight);
        });
    </script>
</body>
</html>